@model IEnumerable<MVCBlogApp.Application.ViewModels.VM_Video>
@using MVCBlogApp.Application.Abstractions.Services;
@inject IOperationService OperationService

@{
    ViewData["Title"] = "Video";
    Layout = "~/Views/Shared/_UILayout.cshtml";

    int LangID = OperationService.SessionLangId();
}

@if (LangID == 2)
{
    <section id="page-title" class="page-title-mini">

        <div class="container clearfix">
            <h1>TAYLAN KÜMELİ VIDEOS</h1>
            <span>Healthy Eating Videos from Taylan Kümeli</span>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/">Main Page</a></li>
                <li class="breadcrumb-item"><a href="#">About Us</a></li>
                <li class="breadcrumb-item active" aria-current="page">Taylan Kümeli Videos</li>
            </ol>
        </div>

    </section>


    <section id="content">
        <div class="content-wrap">
            <div class="container clearfix">

                <div class="row gutter-40 col-mb-80">

                    <div class="postcontent col-lg-9 order-lg-last">
                        <div class="fancy-title title-bottom-border"><h1>Taylan Kümeli Videos</h1></div>

                        <div loading="lazy" id="posts" class="post-grid row grid-container gutter-30" data-layout="fitRows">
                            @foreach (var item in Model)
                            {
                                <div class="row">
                                    <div class="entry event col-12">
                                        <div class="grid-inner row align-items-center no-gutters p-4">
                                            <div class="entry-image col-md-4 mb-md-0">
                                                <div class="fluid-width-video-wrapper"><iframe src="@item.VideoEmbedCode"></iframe></div>
                                            </div>
                                            <div class="col-md-8 pl-md-4">
                                                <div class="entry-title title-xs">
                                                    <h2><a loading="lazy" href="@item.VideoUrl" target="_blank">@item.Title</a></h2>
                                                </div>
                                                <div class="entry-meta">
                                                    <ul>
                                                        <li><a href="@item.VideoUrl" target="_blank"><i class="icon-youtube"></i>@Html.Raw(item.Description)</a></li>
                                                    </ul>
                                                </div>
                                                <div class="entry-content">
                                                    @if (LangID == 2)
                                                    {
                                                        <a href="@item.VideoUrl" target="_blank" class="btn btn-danger float-right">Watch Now</a>
                                                    }
                                                    else
                                                    {
                                                        <a href="@item.VideoUrl" target="_blank" class="btn btn-danger float-right">Hemen İzle</a>
                                                    }


                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>

                        @*<div id="divVideoPartialView"></div>

                        <div id="divVideoPartialViewSpinner">
                            <div class="spinner-border text-primary"></div>
                        </div>



                        <div class="divider"><i class="icon-circle"></i></div>*@


                    </div>

                    <div class="sidebar col-lg-3">


                        @await Component.InvokeAsync("UIHomeSLeftNavigation")


                    </div>

                </div>

            </div>
        </div>
    </section>
}
else

{

    <section id="page-title" class="page-title-mini">

        <div class="container clearfix">
            <h1>TAYLAN KÜMELİ VİDEOLARI</h1>
            <span>Taylan Kümeli'den Sağlıklı Beslenme Videoları</span>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/">Ana Sayfa</a></li>
                <li class="breadcrumb-item"><a href="#">Hakkımızda</a></li>
                <li class="breadcrumb-item active" aria-current="page">Taylan Kümeli Videoları</li>
            </ol>
        </div>

    </section>


    <section id="content">
        <div class="content-wrap">
            <div class="container clearfix">

                <div class="row gutter-40 col-mb-80">

                    <div class="postcontent col-lg-9 order-lg-last">
                        <div class="fancy-title title-bottom-border"><h1>Taylan Kümeli Videoları</h1></div>

                        <div loading="lazy" id="posts" class="post-grid row grid-container gutter-30" data-layout="fitRows">
                            @foreach (var item in Model)
                            {
                                <div class="row">
                                    <div class="entry event col-12">
                                        <div class="grid-inner row align-items-center no-gutters p-4">
                                            <div class="entry-image col-md-4 mb-md-0">
                                                <div class="fluid-width-video-wrapper"><iframe src="@item.VideoEmbedCode"></iframe></div>
                                            </div>
                                            <div class="col-md-8 pl-md-4">
                                                <div class="entry-title title-xs">
                                                    <h2><a loading="lazy" href="@item.VideoUrl" target="_blank">@item.Title</a></h2>
                                                </div>
                                                <div class="entry-meta">
                                                    <ul>
                                                        <li><a href="@item.VideoUrl" target="_blank"><i class="icon-youtube"></i>@Html.Raw(item.Description)</a></li>
                                                    </ul>
                                                </div>
                                                <div class="entry-content">
                                                    @if (LangID == 2)
                                                    {
                                                        <a href="@item.VideoUrl" target="_blank" class="btn btn-danger float-right">Watch Now</a>
                                                    }
                                                    else
                                                    {
                                                        <a href="@item.VideoUrl" target="_blank" class="btn btn-danger float-right">Hemen İzle</a>
                                                    }


                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>

                        @*<div id="divVideoPartialView"></div>

                        <div id="divVideoPartialViewSpinner">
                            <div class="spinner-border text-primary"></div>
                        </div>



                        <div class="divider"><i class="icon-circle"></i></div>*@


                    </div>

                    <div class="sidebar col-lg-3">


                        @await Component.InvokeAsync("UIHomeSLeftNavigation")


                    </div>

                </div>

            </div>
        </div>
    </section>

}


@*<script>
    $(document).ready(function () {

        getViewVideo();

    });

    function getViewVideo(page) {
        debugger;
        var requestDto = new Object();
        requestDto.page = page;

        if (page == undefined || page == null)
            requestDto.page = 1;

        $("#divVideoPartialViewSpinner").show();

        $.ajax({
            type: "POST",
            url: "video-partial-view",
            data: requestDto,
            success: function (jsReturnArgs) {

                $("#divVideoPartialView").append(jsReturnArgs.ViewString); //the HTML I returned from the controller
                $("#divVideoPartialViewSpinner").hide();

            },
            error: function (xhr, status, error) {
                $("#divVideoPartialView").append("Result: " + status + " " + error + " " + xhr.status + " " + xhr.statusText)
                $("#divVideoPartialViewSpinner").hide();
            }
            //error: function (errorData) { onError(errorData); }


        });
    }

</script>*@